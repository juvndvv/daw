<!DOCTYPE html>
<html lang="en">

<head>
    <title>10 sentinel animation solved</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="css/estiloT4.4.css">
</head>

<body>
    <header>
        <h1>Topic4.4.2023 Ejemplos</h1>
        <h2>10 animación con centinela solucionado</h2>
    </header>
    <main>
        <div id="animado">
        </div>
    </main>
    <footer>
        <h3>IES CAMP DE MORVEDRE</h3>
        <h4></h4>
    </footer>



    <!-- **********************  SCRIPT ************* -->
    <script src="http://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="script/date.en.js"></script>
    <script>
        var animated = false;    // centinela 
        $(function () {
            $("div").html($("div").css("left"));
            $(document).on("click", function (event) {
                if (animated == false) {
                    animated = true;
                    $("div").animate({
                        left: '+=100px'
                    }, 200, function () {
                        animated = false;
                        $("div").html($("div").css("left"));
                    });

                }
            });
        });
    </script>
</body>

</html>


<!--
impedir la ejecución de la animación si la animación ya está iniciada. 
Utilizamos, para ello, una variable centinela.

La diferencia entre este método y el anterior, es que:
En el anterior, siempre que hacemos un click sobre el documento, se produce un desplazamiento, 
aunque el valor de left en el <div> se actualizará al final del mismo. 

Sin embargo, con este método, algunos de los clicks del ratón se perderán y no tendrán efecto sobre el <div>.

-->
