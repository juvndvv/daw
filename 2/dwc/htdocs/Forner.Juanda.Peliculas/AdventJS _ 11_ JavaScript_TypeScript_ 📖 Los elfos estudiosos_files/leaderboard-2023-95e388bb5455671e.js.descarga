(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5627],{8029:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leaderboard-2023",function(){return a(4503)}])},4503:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return _}});var n=a(1527),r=a(5132),o=a(6772),s=a.n(o),i=a(4707),c=a(7590),l=a(1163),u=a(5283),p=a.n(u),d=a(8220),h=a(959);function f(){return(f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}var m=function(t,e){return t.querySelector(e)},v=function(t){void 0===t&&(t={});var e={};return Object.keys(t).forEach(function(a){void 0!==t[a]&&(e[a]=t[a])}),e},x={alwaysActive:!1,activeOffset:50,shadowOffset:50,shadowScale:1,duration:300,rotate:!0,rotateTouch:!0,rotateXMax:15,rotateYMax:15,rotateXInvert:!1,rotateYInvert:!1,stretchX:0,stretchY:0,stretchZ:0,commonOrigin:!0,shadow:!0,highlight:!0},y=["component","children","rootChildren","scaleChildren","rotateChildren","className","scaleClassName","rotateClassName","innerClassName"];function g(){return(g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}var w=["eventsEl","alwaysActive","activeOffset","shadowOffset","shadowScale","duration","rotate","rotateTouch","rotateXMax","rotateYMax","rotateXInvert","rotateYInvert","stretchX","stretchY","stretchZ","commonOrigin","shadow","highlight","onEnter","onLeave","onRotate"],N=function(t){var e={};return Object.keys(t).forEach(function(a){w.includes(a)||(e[a]=t[a])}),e},b=function(t){var e={};return Object.keys(t).forEach(function(a){w.includes(a)&&(e[a]=t[a])}),e},j=function(t){var e=t.component,a=t.children,n=t.rootChildren,r=t.scaleChildren,o=t.rotateChildren,s=t.className,i=t.scaleClassName,c=t.rotateClassName,l=t.innerClassName,u=function(t,e){if(null==t)return{};var a,n,r={},o=Object.keys(t);for(n=0;n<o.length;n++)a=o[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,y),p=(0,h.useRef)(null),d=(0,h.useRef)(null),w=function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];return e.filter(function(t){return!!t}).join(" ")},j=function(){var e,a,n,r,o,s,i,c,l,u,h,y,w,N,j,E,O,R,_,A,M,L,C,X,T,Y,D,k,S,I,P,B,z,F,Z,q,U;d.current=(void 0===(e=g({el:p.current},b(t)))&&(e={}),j=(N=e).el,E=N.eventsEl,O=e.isComponent,_=(R={__atropos__:!0,params:f({},x,{onEnter:null,onLeave:null,onRotate:null},v(e||{})),destroyed:!1,isActive:!1}).params,A=[],!function t(){w=requestAnimationFrame(function(){A.forEach(function(t){if("function"==typeof t)t();else{var e=t.element,a=t.prop,n=t.value;e.style[a]=n}}),A.splice(0,A.length),t()})}(),M=function(t,e){A.push({element:t,prop:"transitionDuration",value:e})},L=function(t,e){A.push({element:t,prop:"transitionTimingFunction",value:e})},C=function(t,e){A.push({element:t,prop:"transform",value:e})},X=function(t,e){A.push({element:t,prop:"opacity",value:e})},T=function(t,e){A.push({element:t,prop:"transformOrigin",value:e})},Y=function(t,e,a,n){return t.addEventListener(e,a,n)},D=function(t,e,a,n){return t.removeEventListener(e,a,n)},k=function(t){var e=t.rotateXPercentage,n=void 0===e?0:e,r=t.rotateYPercentage,o=void 0===r?0:r,s=t.duration,i=t.opacityOnly,c=t.easeOut,l=function(t){if(t.dataset.atroposOpacity&&"string"==typeof t.dataset.atroposOpacity)return t.dataset.atroposOpacity.split(";").map(function(t){return parseFloat(t)})};a.querySelectorAll("[data-atropos-offset], [data-atropos-opacity]").forEach(function(t){M(t,s),L(t,c?"ease-out":"");var e=l(t);if(0===n&&0===o)i||C(t,"translate3d(0, 0, 0)"),e&&X(t,e[0]);else{var a=parseFloat(t.dataset.atroposOffset)/100;if(Number.isNaN(a)||i||C(t,"translate3d("+-(-o*a)+"%, "+-(n*a)+"%, 0)"),e){var r=e[0];X(t,r+(e[1]-r)*Math.max(Math.abs(n),Math.abs(o))/100)}}})},S=function(t,e){var a,r=j!==E;if(s||(s=j.getBoundingClientRect()),r&&!i&&(i=E.getBoundingClientRect()),void 0===t&&void 0===e){var o=r?i:s;t=o.left+o.width/2,e=o.top+o.height/2}var c=0,u=0,p=s,d=p.top,h=p.left,f=p.width,m=p.height;if(r){var v=i,x=v.top,y=v.left,g=v.width,w=v.height,N=t-y,b=e-x;u=-(_.rotateYMax*(N-(f/2+(h-y)))/(g-f/2)*1),c=_.rotateXMax*(b-(m/2+(d-x)))/(w-m/2),a=t-h+"px "+(e-d)+"px"}else{var O=t-h,R=e-d;u=-(_.rotateYMax*(O-f/2)/(f/2)*1),c=_.rotateXMax*(R-m/2)/(m/2)}c=Math.min(Math.max(-c,-_.rotateXMax),_.rotateXMax),_.rotateXInvert&&(c=-c),u=Math.min(Math.max(-u,-_.rotateYMax),_.rotateYMax),_.rotateYInvert&&(u=-u);var A=c/_.rotateXMax*100,Y=u/_.rotateYMax*100,D=(r?Y/100*_.stretchX:0)*(_.rotateYInvert?-1:1),S=(r?A/100*_.stretchY:0)*(_.rotateXInvert?-1:1),I=r?Math.max(Math.abs(A),Math.abs(Y))/100*_.stretchZ:0;C(n,"translate3d("+D+"%, "+-S+"%, "+-I+"px) rotateX("+c+"deg) rotateY("+u+"deg)"),a&&_.commonOrigin&&T(n,a),l&&(M(l,_.duration+"ms"),L(l,"ease-out"),C(l,"translate3d("+-(.25*Y)+"%, "+.25*A+"%, 0)"),X(l,Math.max(Math.abs(A),Math.abs(Y))/100)),k({rotateXPercentage:A,rotateYPercentage:Y,duration:_.duration+"ms",easeOut:!0}),"function"==typeof _.onRotate&&_.onRotate(c,u)},I=function(){A.push(function(){return j.classList.add("atropos-active")}),M(n,_.duration+"ms"),L(n,"ease-out"),C(r,"translate3d(0,0, "+_.activeOffset+"px)"),M(r,_.duration+"ms"),L(r,"ease-out"),c&&(M(c,_.duration+"ms"),L(c,"ease-out")),R.isActive=!0},P=function(t){if(u=void 0,("pointerdown"!==t.type||"mouse"!==t.pointerType)&&("pointerenter"!==t.type||"mouse"===t.pointerType)){if("pointerdown"===t.type&&t.preventDefault(),h=t.clientX,y=t.clientY,_.alwaysActive){s=void 0,i=void 0;return}I(),"function"==typeof _.onEnter&&_.onEnter()}},B=function(t){!1===u&&t.cancelable&&t.preventDefault()},z=function(t){if(_.rotate&&R.isActive){if("mouse"!==t.pointerType){if(!_.rotateTouch)return;t.preventDefault()}var e=t.clientX,a=t.clientY,n=e-h,r=a-y;if("string"==typeof _.rotateTouch&&(0!==n||0!==r)&&void 0===u){if(n*n+r*r>=25){var o=180*Math.atan2(Math.abs(r),Math.abs(n))/Math.PI;u="scroll-y"===_.rotateTouch?o>45:90-o>45}!1===u&&(j.classList.add("atropos-rotate-touch"),t.cancelable&&t.preventDefault())}"mouse"!==t.pointerType&&u||S(e,a)}},F=function(t){if(s=void 0,i=void 0,R.isActive&&(!t||"pointerup"!==t.type||"mouse"!==t.pointerType)&&(!t||"pointerleave"!==t.type||"mouse"===t.pointerType)){if("string"==typeof _.rotateTouch&&u&&j.classList.remove("atropos-rotate-touch"),_.alwaysActive){S(),"function"==typeof _.onRotate&&_.onRotate(0,0),"function"==typeof _.onLeave&&_.onLeave();return}A.push(function(){return j.classList.remove("atropos-active")}),M(r,_.duration+"ms"),L(r,""),C(r,"translate3d(0,0, 0px)"),c&&(M(c,_.duration+"ms"),L(c,"")),l&&(M(l,_.duration+"ms"),L(l,""),C(l,"translate3d(0, 0, 0)"),X(l,0)),M(n,_.duration+"ms"),L(n,""),C(n,"translate3d(0,0,0) rotateX(0deg) rotateY(0deg)"),k({duration:_.duration+"ms"}),R.isActive=!1,"function"==typeof _.onRotate&&_.onRotate(0,0),"function"==typeof _.onLeave&&_.onLeave()}},Z=function(t){var e=t.target;!E.contains(e)&&e!==E&&R.isActive&&F()},R.destroy=function(){R.destroyed=!0,cancelAnimationFrame(w),D(document,"click",Z),D(E,"pointerdown",P),D(E,"pointerenter",P),D(E,"pointermove",z),D(E,"touchmove",B),D(E,"pointerleave",F),D(E,"pointerup",F),D(E,"lostpointercapture",F),delete j.__atropos__},"string"==typeof j&&(j=m(document,j)),j&&(j.__atropos__||(void 0!==E?"string"==typeof E&&(E=m(document,E)):E=j,a=O?j.parentNode.host:j,Object.assign(R,{el:j}),n=m(j,".atropos-rotate"),r=m(j,".atropos-scale"),o=m(j,".atropos-inner"),j.__atropos__=R)),j&&E&&(_.shadow&&((c=m(j,".atropos-shadow"))||((c=document.createElement("span")).classList.add("atropos-shadow"),q=!0),C(c,"translate3d(0,0,-"+_.shadowOffset+"px) scale("+_.shadowScale+")"),q&&n.appendChild(c)),_.highlight&&((l=m(j,".atropos-highlight"))||((l=document.createElement("span")).classList.add("atropos-highlight"),U=!0),C(l,"translate3d(0,0,0)"),U&&o.appendChild(l)),_.rotateTouch&&("string"==typeof _.rotateTouch?j.classList.add("atropos-rotate-touch-"+_.rotateTouch):j.classList.add("atropos-rotate-touch")),m(a,"[data-atropos-opacity]")&&k({opacityOnly:!0}),Y(document,"click",Z),Y(E,"pointerdown",P),Y(E,"pointerenter",P),Y(E,"pointermove",z),Y(E,"touchmove",B),Y(E,"pointerleave",F),Y(E,"pointerup",F),Y(E,"lostpointercapture",F),_.alwaysActive&&(I(),S())),R)},E=function(){d.current&&(d.current.destroy(),d.current=null)};return(0,h.useEffect)(function(){return p.current&&j(),function(){E()}},[]),(0,h.useEffect)(function(){return d.current&&(d.current.params.onEnter=t.onEnter,d.current.params.onLeave=t.onLeave,d.current.params.onRotate=t.onRotate),function(){d.current&&(d.current.params.onEnter=null,d.current.params.onLeave=null,d.current.params.onRotate=null)}}),h.createElement(void 0===e?"div":e,g({className:w("atropos",void 0===s?"":s)},N(u),{ref:p}),h.createElement("span",{className:w("atropos-scale",void 0===i?"":i)},h.createElement("span",{className:w("atropos-rotate",void 0===c?"":c)},h.createElement("span",{className:w("atropos-inner",void 0===l?"":l)},a,(t.highlight||void 0===t.highlight)&&h.createElement("span",{className:"atropos-highlight"})),o,(t.shadow||void 0===t.shadow)&&h.createElement("span",{className:"atropos-shadow"})),r),n)};a(1322);var E=a(1565);let O=t=>{let{name:e,index:a,user:n}=t;return(null==n?void 0:n.userName)===e?"bg-yellow-300":a%2==0?"bg-zinc-900":"bg-zinc-800"},R=t=>{let{locale:e,position:a}=t;return"es"===e||"pt"===e?"".concat(a,".\xba"):"en"===e?1===a?"".concat(a,"st"):2===a?"".concat(a,"nd"):3===a?"".concat(a,"rd"):"".concat(a,"th"):void 0};function _(){let{data:t}=(0,i.ZP)("/api/get-leaderboard"),{user:e}=(0,r.a)(),{i18n:a,locale:o}=(0,d.Z)(),{leaderboard:u=[],userRank:h}=null!=t?t:{},f=1;for(let t=0;t<u.length;t++){var m,v;let e=Number(u[t].score),a=Number(null!==(v=null===(m=u[t-1])||void 0===m?void 0:m.score)&&void 0!==v?v:0);t>0&&e===a?u[t].position=u[t-1].position:(u[t].position=f,f++)}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s(),{children:(0,n.jsx)("title",{children:"Clasificaci\xf3n - AdventJS 2023"})}),(0,n.jsx)("div",{id:"top-sweater"}),(0,n.jsx)(c.Z,{}),(0,n.jsx)(E.A,{}),(0,n.jsxs)(l.W,{as:"main",children:[(null==h?void 0:h.actualRank)!=null&&(0,n.jsx)(j,{className:"w-full m-auto mb-10 max-w-prose group",children:(0,n.jsxs)("div",{className:"relative flex justify-between p-12 pb-8 overflow-hidden transition-all border-4 border-white/80 bg-black/80 cursor-crosshair group-hover:border-white font-sweater",children:[(0,n.jsx)("small",{className:"absolute left-0 right-0 block w-full text-3xl text-center uppercase font-sweater top-2",children:a.LEADERBOARD_YOUR_RESULTS}),(0,n.jsx)("div",{className:"z-10 flex flex-col items-center justify-center",children:(0,n.jsx)("img",{className:"w-24 h-24 rounded-full",src:null==e?void 0:e.image})}),(0,n.jsxs)("div",{className:"z-10 flex flex-col items-center justify-center text-3xl",children:[(0,n.jsx)("strong",{className:"text-6xl font-sweater text-fuchsia-300",children:h.userScore}),(0,n.jsx)("strong",{className:"text-lg uppercase opacity-70",children:a.LEADERBOARD_SCORE})]}),(0,n.jsxs)("div",{className:"z-10 flex flex-col items-center justify-center text-3xl",children:[(0,n.jsx)("strong",{className:"text-6xl text-yellow-300",children:R({locale:o,position:h.actualRank})}),(0,n.jsx)("strong",{className:"text-lg uppercase opacity-70",children:a.LEADERBOARD_POSITION})]})]})}),u.length>0&&(0,n.jsx)("div",{className:"flex justify-center mb-20",children:(0,n.jsxs)("table",{className:"w-full overflow-hidden table-auto max-w-prose font-sweater",children:[(0,n.jsx)("thead",{className:"text-xs text-white uppercase font-sweater bg-black/60",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"py-3.5 pl-4 pr-3 text-left text-white sm:pl-6",children:a.LEADERBOARD_POSITION}),(0,n.jsx)("th",{className:"py-3.5 pl-4 pr-3 text-left text-white sm:pl-6",children:a.LEADERBOARD_USER}),(0,n.jsx)("th",{className:"px-3 py-3.5 text-center text-white",children:a.LEADERBOARD_SCORE}),(0,n.jsx)("th",{className:"px-3 py-3.5 text-center text-white",children:a.LEADERBOARD_CHALLENGES})]})}),(0,n.jsx)("tbody",{children:u.map((t,a)=>{let{id:r,name:o,score:s,completed:i,position:c}=t;return(0,n.jsxs)("tr",{id:r,className:O({user:e,name:o,index:a}),children:[(0,n.jsx)("td",{className:"py-2 pl-4 pr-3 text-2xl text-center text-yellow-300 whitespace-nowrap sm:pl-6",children:c}),(0,n.jsx)("td",{className:"py-2 pl-4 pr-3 text-base whitespace-nowrap sm:pl-6",children:(0,n.jsxs)("div",{className:"flex items-center gap-4 text-sky-100",children:[(0,n.jsx)(p(),{loading:"lazy",className:"w-8 h-8 transition-opacity group-hover:opacity-75 rounded-3xl",src:"https://avatars.githubusercontent.com/u/".concat(r,"?v=4"),width:64,height:64}),o]})}),(0,n.jsx)("td",{className:"px-3 py-4 text-lg text-right text-yellow-300 whitespace-nowrap",children:s}),(0,n.jsx)("td",{className:"p-1 text-lg text-center text-yellow-400",children:i})]},r)})})]})})]})]})}},1322:function(){}},function(t){t.O(0,[7391,7914,5283,3695,7478,9774,2888,179],function(){return t(t.s=8029)}),_N_E=t.O()}]);